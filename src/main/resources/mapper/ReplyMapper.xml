<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.zm.trip.web.dao.ReplyDao">

  <resultMap id="BaseResultMap" type="cn.zm.trip.web.domain.Reply">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="tp_rid" jdbcType="INTEGER" property="tp_rid" />
    <result column="tp_rname" jdbcType="VARCHAR" property="tp_rname" />
    <result column="tp_rdate" jdbcType="VARCHAR" property="tp_rdate" />
    <result column="tp_rcontent" jdbcType="VARCHAR" property="tp_rcontent" />
    <result column="tp_r_for_name" jdbcType="VARCHAR" property="tp_r_for_name" />
    <result column="tp_r_for_words" jdbcType="VARCHAR" property="tp_r_for_words" />
    <result column="tp_r_for_reply" jdbcType="VARCHAR" property="tp_r_for_reply" />
    <result column="tp_r_viewpointId" jdbcType="VARCHAR" property="tp_r_viewpointId" />
    <result column="tp_r_forumId" jdbcType="VARCHAR" property="tp_r_forumId" />
    <result column="tp_r_hotelId" jdbcType="VARCHAR" property="tp_r_hotelId" />
  </resultMap>

	<sql id="Base_Column_List">
		tp_rid,tp_rname,tp_rdate,tp_rcontent,tp_r_for_name,tp_r_for_words,tp_r_for_reply,tp_r_viewpointId,tp_r_forumId,tp_r_hotelId
	</sql>

	<!--删除用户-->
	<delete id="deleteByPrimaryKey">
		delete from
			tp_reply
		where tp_rid = #{tp_rid};
	</delete>

	<!--回复列表模糊搜索-->
	<select id="replyPointSearch" resultMap="BaseResultMap">
		SELECT
		<include refid="Base_Column_List" />
		FROM
        tp_reply
		<where>

			<if test="tp_rname != null and tp_rname != ''">
				or tp_rname LIKE concat('%', #{tp_rname}, '%')
			</if>

			<if test="tp_rdate != null and tp_rdate != ''">
				or tp_rdate  LIKE concat('%', #{tp_rdate}, '%')
			</if>

			<if test="tp_rcontent != null and tp_rcontent != ''">
				or tp_rcontent  LIKE concat('%', #{tp_rcontent}, '%')
			</if>

			<if test="tp_r_for_name != null and tp_r_for_name != ''">
				or tp_r_for_name  LIKE concat('%', #{tp_r_for_name}, '%')
			</if>

			<if test="tp_r_for_words != null and tp_r_for_words != ''">
				or tp_r_for_words  LIKE concat('%', #{tp_r_for_words}, '%')
			</if>
			<if test="tp_r_for_reply != null and tp_r_for_reply != ''">
				or tp_r_for_reply  LIKE concat('%', #{tp_r_for_reply}, '%')
			</if>
			<if test="tp_r_viewpointId != null and tp_r_viewpointId != ''">
				or tp_r_viewpointId  LIKE concat('%', #{tp_r_viewpointId}, '%')
			</if>
			<if test="tp_r_forumId != null and tp_r_forumId != ''">
				or tp_r_forumId  LIKE concat('%', #{tp_r_forumId}, '%')
			</if>
			<if test="tp_r_hotelId != null and tp_r_hotelId != ''">
				or tp_r_hotelId  LIKE concat('%', #{tp_r_hotelId}, '%')
			</if>


		</where>
	</select>

</mapper>